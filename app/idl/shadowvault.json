{
  "version": "0.1.0",
  "name": "shadowvault",
  "metadata": {
    "address": "HKFDPxSMDTcMjNWnDR3u4YH5VKcxTKieV9snBY5HumBe"
  },
    "instructions":  [
                         {
                             "name":  "initializeVault",
                             "accounts":  [
                                              {
                                                  "name":  "payer",
                                                  "isMut":  true,
                                                  "isSigner":  true
                                              },
                                              {
                                                  "name":  "owner",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "vault",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "systemProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              }
                                          ],
                             "args":  [
                                          {
                                              "name":  "encryptedStrategyHash",
                                              "type":  {
                                                           "array":  [
                                                                         "u8",
                                                                         32
                                                                     ]
                                                       }
                                          }
                                      ]
                         },
                         {
                             "name":  "deposit",
                             "accounts":  [
                                              {
                                                  "name":  "user",
                                                  "isMut":  true,
                                                  "isSigner":  true
                                              },
                                              {
                                                  "name":  "tokenMint",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "userAta",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "vault",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "vaultAta",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "tokenProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "associatedTokenProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "systemProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              }
                                          ],
                             "args":  [
                                          {
                                              "name":  "amount",
                                              "type":  "u64"
                                          }
                                      ]
                         },
                         {
                             "name":  "submitTradeIntent",
                             "accounts":  [
                                              {
                                                  "name":  "user",
                                                  "isMut":  true,
                                                  "isSigner":  true
                                              },
                                              {
                                                  "name":  "vault",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "intent",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "systemProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              }
                                          ],
                             "args":  [
                                          {
                                              "name":  "tokenIn",
                                              "type":  "publicKey"
                                          },
                                          {
                                              "name":  "tokenOut",
                                              "type":  "publicKey"
                                          },
                                          {
                                              "name":  "amount",
                                              "type":  "u64"
                                          },
                                          {
                                              "name":  "maxSlippageBps",
                                              "type":  "u16"
                                          },
                                          {
                                              "name":  "strategyType",
                                              "type":  "u8"
                                          }
                                      ]
                         },
                         {
                             "name":  "executeTrade",
                             "accounts":  [
                                              {
                                                  "name":  "authority",
                                                  "isMut":  true,
                                                  "isSigner":  true
                                              },
                                              {
                                                  "name":  "vault",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "intent",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "vaultTokenIn",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "vaultTokenOut",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "result",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "tokenProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "systemProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              }
                                          ],
                             "args":  [

                                      ]
                         },
                         {
                             "name":  "withdraw",
                             "accounts":  [
                                              {
                                                  "name":  "authority",
                                                  "isMut":  true,
                                                  "isSigner":  true
                                              },
                                              {
                                                  "name":  "tokenMint",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "vault",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "owner",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "vaultAta",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "recipientAta",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "tokenProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "associatedTokenProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "systemProgram",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              }
                                          ],
                             "args":  [
                                          {
                                              "name":  "amount",
                                              "type":  "u64"
                                          }
                                      ]
                         },
                         {
                             "name":  "pauseVault",
                             "accounts":  [
                                              {
                                                  "name":  "authority",
                                                  "isMut":  false,
                                                  "isSigner":  true
                                              },
                                              {
                                                  "name":  "vault",
                                                  "isMut":  true,
                                                  "isSigner":  false
                                              },
                                              {
                                                  "name":  "owner",
                                                  "isMut":  false,
                                                  "isSigner":  false
                                              }
                                          ],
                             "args":  [
                                          {
                                              "name":  "pause",
                                              "type":  "bool"
                                          }
                                      ]
                         }
                     ],
    "accounts":  [
                     {
                         "name":  "VaultAccount",
                         "type":  {
                                      "kind":  "struct",
                                      "fields":  [
                                                     {
                                                         "name":  "owner",
                                                         "type":  "publicKey"
                                                     },
                                                     {
                                                         "name":  "encryptedStrategyHash",
                                                         "type":  {
                                                                      "array":  [
                                                                                    "u8",
                                                                                    32
                                                                                ]
                                                                  }
                                                     },
                                                     {
                                                         "name":  "totalValueLocked",
                                                         "type":  "u64"
                                                     },
                                                     {
                                                         "name":  "executionCount",
                                                         "type":  "u64"
                                                     },
                                                     {
                                                         "name":  "isPaused",
                                                         "type":  "bool"
                                                     },
                                                     {
                                                         "name":  "bump",
                                                         "type":  "u8"
                                                     }
                                                 ]
                                  }
                     },
                     {
                         "name":  "TradeIntent",
                         "type":  {
                                      "kind":  "struct",
                                      "fields":  [
                                                     {
                                                         "name":  "user",
                                                         "type":  "publicKey"
                                                     },
                                                     {
                                                         "name":  "vault",
                                                         "type":  "publicKey"
                                                     },
                                                     {
                                                         "name":  "tokenIn",
                                                         "type":  "publicKey"
                                                     },
                                                     {
                                                         "name":  "tokenOut",
                                                         "type":  "publicKey"
                                                     },
                                                     {
                                                         "name":  "amount",
                                                         "type":  "u64"
                                                     },
                                                     {
                                                         "name":  "maxSlippageBps",
                                                         "type":  "u16"
                                                     },
                                                     {
                                                         "name":  "strategyType",
                                                         "type":  "u8"
                                                     },
                                                     {
                                                         "name":  "timestamp",
                                                         "type":  "i64"
                                                     },
                                                     {
                                                         "name":  "isExecuted",
                                                         "type":  "bool"
                                                     },
                                                     {
                                                         "name":  "bump",
                                                         "type":  "u8"
                                                     }
                                                 ]
                                  }
                     },
                     {
                         "name":  "ExecutionResult",
                         "type":  {
                                      "kind":  "struct",
                                      "fields":  [
                                                     {
                                                         "name":  "intent",
                                                         "type":  "publicKey"
                                                     },
                                                     {
                                                         "name":  "executedAt",
                                                         "type":  "i64"
                                                     },
                                                     {
                                                         "name":  "amountIn",
                                                         "type":  "u64"
                                                     },
                                                     {
                                                         "name":  "amountOut",
                                                         "type":  "u64"
                                                     },
                                                     {
                                                         "name":  "actualSlippageBps",
                                                         "type":  "u16"
                                                     },
                                                     {
                                                         "name":  "bump",
                                                         "type":  "u8"
                                                     }
                                                 ]
                                  }
                     }
                 ],
    "events":  [
                   {
                       "name":  "VaultInitialized",
                       "fields":  [
                                      {
                                          "name":  "vault",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "owner",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "encryptedStrategyHash",
                                          "type":  {
                                                       "array":  [
                                                                     "u8",
                                                                     32
                                                                 ]
                                                   },
                                          "index":  false
                                      },
                                      {
                                          "name":  "timestamp",
                                          "type":  "i64",
                                          "index":  false
                                      }
                                  ]
                   },
                   {
                       "name":  "Deposited",
                       "fields":  [
                                      {
                                          "name":  "vault",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "user",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "amount",
                                          "type":  "u64",
                                          "index":  false
                                      },
                                      {
                                          "name":  "newTvl",
                                          "type":  "u64",
                                          "index":  false
                                      },
                                      {
                                          "name":  "timestamp",
                                          "type":  "i64",
                                          "index":  false
                                      }
                                  ]
                   },
                   {
                       "name":  "TradeIntentSubmitted",
                       "fields":  [
                                      {
                                          "name":  "vault",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "intent",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "user",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "tokenIn",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "tokenOut",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "amount",
                                          "type":  "u64",
                                          "index":  false
                                      },
                                      {
                                          "name":  "timestamp",
                                          "type":  "i64",
                                          "index":  false
                                      }
                                  ]
                   },
                   {
                       "name":  "TradeExecuted",
                       "fields":  [
                                      {
                                          "name":  "vault",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "intent",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "executionCount",
                                          "type":  "u64",
                                          "index":  false
                                      },
                                      {
                                          "name":  "timestamp",
                                          "type":  "i64",
                                          "index":  false
                                      }
                                  ]
                   },
                   {
                       "name":  "Withdrawn",
                       "fields":  [
                                      {
                                          "name":  "vault",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "authority",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "amount",
                                          "type":  "u64",
                                          "index":  false
                                      },
                                      {
                                          "name":  "newTvl",
                                          "type":  "u64",
                                          "index":  false
                                      },
                                      {
                                          "name":  "timestamp",
                                          "type":  "i64",
                                          "index":  false
                                      }
                                  ]
                   },
                   {
                       "name":  "VaultPaused",
                       "fields":  [
                                      {
                                          "name":  "vault",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "authority",
                                          "type":  "publicKey",
                                          "index":  false
                                      },
                                      {
                                          "name":  "isPaused",
                                          "type":  "bool",
                                          "index":  false
                                      },
                                      {
                                          "name":  "timestamp",
                                          "type":  "i64",
                                          "index":  false
                                      }
                                  ]
                   }
               ],
    "errors":  [
                   {
                       "code":  6000,
                       "name":  "Unauthorized",
                       "msg":  "Unauthorized: Only vault owner can perform this action"
                   },
                   {
                       "code":  6001,
                       "name":  "VaultPaused",
                       "msg":  "Vault is paused: Operations are temporarily disabled"
                   },
                   {
                       "code":  6002,
                       "name":  "InvalidAmount",
                       "msg":  "Invalid amount: Amount must be greater than zero"
                   },
                   {
                       "code":  6003,
                       "name":  "Overflow",
                       "msg":  "Arithmetic overflow occurred"
                   },
                   {
                       "code":  6004,
                       "name":  "InsufficientFunds",
                       "msg":  "Insufficient funds in vault"
                   },
                   {
                       "code":  6005,
                       "name":  "AlreadyExecuted",
                       "msg":  "Trade already executed"
                   }
               ]
}
